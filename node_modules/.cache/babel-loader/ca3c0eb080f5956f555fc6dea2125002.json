{"ast":null,"code":"import _toConsumableArray from \"/home/minhtranin/work/treenode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/minhtranin/work/treenode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/home/minhtranin/work/treenode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _this = this,\n    _jsxFileName = \"/home/minhtranin/work/treenode/src/Dragable.js\";\n\nimport { Tree, Input, Select, Button } from 'antd';\nimport React, { useCallback, useState } from 'react';\nimport { FolderFilled, DeleteTwoTone, SaveTwoTone } from \"@ant-design/icons\";\nvar Search = Input.Search;\nvar Option = Select.Option;\nvar x = 3;\nvar y = 2;\nvar z = 1;\nvar oData = [];\n\nvar generateData = function generateData(_level, _preKey, _tns) {\n  var preKey = _preKey || '0';\n  var tns = _tns || oData;\n  var children = [];\n\n  for (var i = 0; i < x; i++) {\n    var key = \"\".concat(preKey, \"-\").concat(i);\n    tns.push({\n      title: key,\n      key: key\n    });\n\n    if (i < y) {\n      children.push(key);\n    }\n  }\n\n  if (_level < 0) {\n    return tns;\n  }\n\n  var level = _level - 1;\n  children.forEach(function (key, index) {\n    tns[index].children = [];\n    return generateData(level, key, tns[index].children);\n  });\n};\n\ngenerateData(z);\nvar dataList = [];\n\nvar generateList = function generateList(data) {\n  for (var i = 0; i < data.length; i++) {\n    var node = data[i];\n    var key = node.key;\n    dataList.push({\n      key: key,\n      title: key\n    });\n\n    if (node.children) {\n      generateList(node.children);\n    }\n  }\n};\n\ngenerateList(oData);\n\nvar Folder = function Folder(item) {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingLeft: \"10px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, item === null || item === void 0 ? void 0 : item.name), /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingLeft: \"35px\",\n      fontSize: \"11px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, (item === null || item === void 0 ? void 0 : item.type) === 'all' ? 'Visible to Everyone' : 'Visible to specific users'));\n};\n\nvar Action = function Action() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"g-action\",\n    style: {\n      width: \"202px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(SaveTwoTone, {\n    twoToneColor: \"#44AEA0\",\n    style: {\n      fontSize: \"25px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(DeleteTwoTone, {\n    twoToneColor: \"#D3455C\",\n    style: {\n      fontSize: \"25px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar InputAction = function InputAction(item) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: '35px',\n      width: '208px' // border: '1px solid #d2c7c7',\n      // padding: '2px'\n\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    style: {\n      width: \"202px\"\n    },\n    placeholder: \"Enter new folder name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    defaultValue: item === null || item === void 0 ? void 0 : item.type,\n    style: {\n      width: \"202px\"\n    },\n    onChange: function onChange(sc) {},\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"all\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Visible to Everyone\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"one\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Visible to specific users\")), /*#__PURE__*/React.createElement(Select, {\n    defaultValue: item === null || item === void 0 ? void 0 : item.allowers,\n    placeholder: \"Select a name\",\n    mode: \"multiple\",\n    style: {\n      width: \"202px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"jack\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Jack\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"lucy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Lucy\")), /*#__PURE__*/React.createElement(Action, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }));\n};\n\nvar treeData = [{\n  title: \"label\",\n  name: 'My folder name 1',\n  allowers: ['lucy'],\n  type: 'one',\n  children: [{\n    title: \"label\",\n    name: 'My folder name 1-1',\n    allowers: ['jack'],\n    type: 'all',\n    children: [{\n      title: \"label\",\n      name: 'My folder name 1-1-1',\n      allowers: ['jack'],\n      type: 'all'\n    }]\n  }, {\n    title: \"label\",\n    name: 'My folder name 1-2',\n    allowers: ['jack'],\n    type: 'all'\n  }]\n}, {\n  title: \"label\",\n  name: 'My folder name 2',\n  allowers: ['lucy'],\n  type: 'one'\n}, {\n  title: \"input\",\n  name: 'My folder name 2',\n  allowers: ['lucy'],\n  type: 'one'\n}];\n\nvar makeup = function makeup(d) {\n  var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';\n  var newTitle = '';\n  var newChildren = '';\n  var result = d.map(function (node, parentIdx) {\n    var type = node.type,\n        allowers = node.allowers,\n        name = node.name,\n        children = node.children,\n        title = node.title;\n\n    if (title === 'input') {\n      newTitle = /*#__PURE__*/React.createElement(InputAction, {\n        type: type,\n        allowers: allowers,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 24\n        }\n      });\n    }\n\n    if (title === 'label') {\n      newTitle = /*#__PURE__*/React.createElement(Folder, {\n        name: name,\n        type: type,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 24\n        }\n      });\n    }\n\n    if (children) {\n      newChildren = makeup(children, \"\".concat(level, \"-\").concat(parentIdx));\n    }\n\n    return _objectSpread({\n      title: newTitle,\n      key: \"\".concat(level, \"-\").concat(parentIdx),\n      name: name,\n      allowers: allowers,\n      type: type,\n      icon: /*#__PURE__*/React.createElement(FolderFilled, {\n        style: {\n          fontSize: \"20px\",\n          paddingTop: \"10px\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 19\n        }\n      })\n    }, children ? {\n      children: newChildren\n    } : {});\n  });\n  return result;\n};\n\nvar newestData = makeup(treeData);\n\nvar SearchTree = function SearchTree() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      expandedKeys = _useState2[0],\n      setExpandedKeys = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchValue = _useState4[0],\n      setSearchValue = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      autoExpandParent = _useState6[0],\n      setAutoExpandParent = _useState6[1];\n\n  console.log(newestData);\n\n  var _useState7 = useState(newestData),\n      _useState8 = _slicedToArray(_useState7, 2),\n      gData = _useState8[0],\n      setGData = _useState8[1];\n\n  var onDragEnter = function onDragEnter(info) {\n    console.log(info); // setExpandedKeys(info.expandedKeys)\n    // expandedKeys 需要受控时设置\n    // this.setState({\n    //   expandedKeys: info.expandedKeys,\n    // });\n  };\n\n  var onDrop = function onDrop(info) {\n    console.log(info);\n    var dropKey = info.node.key;\n    var dragKey = info.dragNode.key;\n    var dropPos = info.node.pos.split('-');\n    var dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n\n    var loop = function loop(data, key, callback) {\n      for (var i = 0; i < data.length; i++) {\n        if (data[i].key === key) {\n          return callback(data[i], i, data);\n        }\n\n        if (data[i].children) {\n          loop(data[i].children, key, callback);\n        }\n      }\n    };\n\n    var data = _toConsumableArray(gData); // Find dragObject\n\n\n    var dragObj;\n    loop(data, dragKey, function (item, index, arr) {\n      arr.splice(index, 1);\n      dragObj = item;\n    });\n\n    if (!info.dropToGap) {\n      // Drop on the content\n      loop(data, dropKey, function (item) {\n        item.children = item.children || []; // where to insert 示例添加到头部，可以是随意位置\n\n        item.children.unshift(dragObj);\n      });\n    } else if ((info.node.props.children || []).length > 0 && // Has children\n    info.node.props.expanded && // Is expanded\n    dropPosition === 1 // On the bottom gap\n    ) {\n      loop(data, dropKey, function (item) {\n        item.children = item.children || []; // where to insert 示例添加到头部，可以是随意位置\n\n        item.children.unshift(dragObj); // in previous version, we use item.children.push(dragObj) to insert the\n        // item to the tail of the children\n      });\n    } else {\n      var ar;\n      var i;\n      loop(data, dropKey, function (item, index, arr) {\n        ar = arr;\n        i = index;\n      });\n\n      if (dropPosition === -1) {\n        ar.splice(i, 0, dragObj);\n      } else {\n        ar.splice(i + 1, 0, dragObj);\n      }\n    }\n\n    setGData(data);\n  };\n\n  var _useState9 = useState(treeData),\n      _useState10 = _slicedToArray(_useState9, 2),\n      data = _useState10[0],\n      setData = _useState10[1];\n\n  var _useState11 = useState(undefined),\n      _useState12 = _slicedToArray(_useState11, 2),\n      selectValue = _useState12[0],\n      setSelectValue = _useState12[1]; // console.log(gData)\n\n\n  var dfv = [{\n    title: '0-0',\n    key: '0-0',\n    children: [{\n      title: '0-0-0',\n      key: '0-0-0',\n      children: [{\n        title: '0-0-0-0',\n        key: '0-0-0-0'\n      }]\n    }]\n  }]; // const makeupChildren = useCallback((c, index, level = '0-0') => {\n  //     let title = ''\n  //     const result = c.map((chil, chilIdx) => {\n  //         return {\n  //             title,\n  //             key: `${level}-${parentIdx}`,\n  //             default: node.default,\n  //             description: node.description,\n  //             allowers: [],\n  //             type: ''\n  //         }\n  //     })\n  // }, [gData])\n\n  var newDataDefault = {\n    title: \"input\",\n    description: '',\n    name: '',\n    allowers: [],\n    type: ''\n  }; // console.log(makeup(gData))\n  // console.log(gData)\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"400px\",\n      margin: '30px auto'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    labelInValue: true // defaultValue={{ value: 'lucy' }}\n    ,\n    open: true,\n    style: {\n      width: 400\n    },\n    dropdownStyle: {\n      overflow: 'auto',\n      height: '400px'\n    },\n    value: {\n      value: 'eqwe',\n      label: 'qweqwe'\n    },\n    dropdownRender: function dropdownRender(menu) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {// marginLeft: '35px',\n          // width: '208px',\n          // border: '1px solid #d2c7c7',\n          // padding: '2px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"g-search-header\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Search, {\n        placeholder: \"Search\",\n        style: {\n          width: '254px'\n        },\n        onChange: function onChange(ev) {},\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          var newData = [newDataDefault].concat(_toConsumableArray(data));\n          setData(newData);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 29\n        }\n      }, \"Add New Folder\")), /*#__PURE__*/React.createElement(Tree, {\n        className: \"draggable-tree\" // defaultExpandedKeys={expandedKeys}\n        ,\n        defaultExpandAll: true,\n        draggable: true,\n        showIcon: true,\n        blockNode: true,\n        onDragEnter: onDragEnter,\n        onDrop: onDrop,\n        treeData: gData,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 25\n        }\n      }));\n    },\n    onChange: function onChange(ev) {\n      console.log(ev);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"lucy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 17\n    }\n  }, \"Lucy (101)\")));\n};\n\nexport default SearchTree;","map":{"version":3,"sources":["/home/minhtranin/work/treenode/src/Dragable.js"],"names":["Tree","Input","Select","Button","React","useCallback","useState","FolderFilled","DeleteTwoTone","SaveTwoTone","Search","Option","x","y","z","oData","generateData","_level","_preKey","_tns","preKey","tns","children","i","key","push","title","level","forEach","index","dataList","generateList","data","length","node","Folder","item","paddingLeft","name","fontSize","type","Action","width","InputAction","marginLeft","sc","allowers","treeData","makeup","d","newTitle","newChildren","result","map","parentIdx","icon","paddingTop","newestData","SearchTree","expandedKeys","setExpandedKeys","searchValue","setSearchValue","autoExpandParent","setAutoExpandParent","console","log","gData","setGData","onDragEnter","info","onDrop","dropKey","dragKey","dragNode","dropPos","pos","split","dropPosition","Number","loop","callback","dragObj","arr","splice","dropToGap","unshift","props","expanded","ar","setData","undefined","selectValue","setSelectValue","dfv","newDataDefault","description","margin","overflow","height","value","label","menu","ev","newData"],"mappings":"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","sourcesContent":["import { Tree, Input, Select, Button } from 'antd';\nimport React, { useCallback, useState } from 'react'\nimport { FolderFilled, DeleteTwoTone, SaveTwoTone } from \"@ant-design/icons\";\nconst { Search } = Input;\nconst { Option } = Select;\n\nconst x = 3;\nconst y = 2;\nconst z = 1;\nconst oData = [];\n\nconst generateData = (_level, _preKey, _tns) => {\n    const preKey = _preKey || '0';\n    const tns = _tns || oData;\n\n    const children = [];\n    for (let i = 0; i < x; i++) {\n        const key = `${preKey}-${i}`;\n        tns.push({ title: key, key });\n        if (i < y) {\n            children.push(key);\n        }\n    }\n    if (_level < 0) {\n        return tns;\n    }\n    const level = _level - 1;\n    children.forEach((key, index) => {\n        tns[index].children = [];\n        return generateData(level, key, tns[index].children);\n    });\n};\n\ngenerateData(z);\n\nconst dataList = [];\nconst generateList = data => {\n    for (let i = 0; i < data.length; i++) {\n        const node = data[i];\n        const { key } = node;\n        dataList.push({ key, title: key });\n        if (node.children) {\n            generateList(node.children);\n        }\n    }\n};\ngenerateList(oData);\n\nconst Folder = (item) => {\n    return <>\n        <span style={{ paddingLeft: \"10px\" }}>\n            {item?.name}\n        </span>\n        <br></br>\n        <span style={{ paddingLeft: \"35px\", fontSize: \"11px\" }}>\n            {item?.type === 'all' ? 'Visible to Everyone' : 'Visible to specific users'} \n        </span>\n    </>\n}\n\nconst Action = () => {\n    return <div className=\"g-action\"\n    style={{\n      width: \"202px\"\n    }}\n  >\n    <SaveTwoTone\n      twoToneColor=\"#44AEA0\"\n      style={{ fontSize: \"25px\" }}\n    />\n    <DeleteTwoTone\n      twoToneColor=\"#D3455C\"\n      style={{ fontSize: \"25px\" }}\n    />\n  </div>\n}\n\nconst InputAction = (item) => {\n    return <div\n    style={{\n        marginLeft: '35px',\n        width: '208px',\n        // border: '1px solid #d2c7c7',\n        // padding: '2px'\n    }}\n    >\n        <Input style={{ width: \"202px\" }} placeholder=\"Enter new folder name\" />\n        <Select\n            defaultValue={item?.type}\n            style={{ width: \"202px\" }}\n            onChange={(sc) => { }}\n        >\n            <Option value=\"all\">Visible to Everyone</Option>\n            <Option value=\"one\">\n                Visible to specific users\n            </Option>\n        </Select>\n        <Select\n            defaultValue={item?.allowers}\n            placeholder=\"Select a name\"\n            mode=\"multiple\"\n            style={{ width: \"202px\" }}\n        >\n            <Option value=\"jack\">Jack</Option>\n            <Option value=\"lucy\">Lucy</Option>\n        </Select>\n        <Action />\n    </div>\n}\n\nconst treeData = [\n    {\n        title: \"label\",\n        name: 'My folder name 1',\n        allowers: ['lucy'],\n        type: 'one',\n        children: [\n            {\n                title: \"label\",\n                name: 'My folder name 1-1',\n                allowers: ['jack'],\n                type: 'all',\n                children: [\n                    {\n                        title: \"label\",\n                        name: 'My folder name 1-1-1',\n                        allowers: ['jack'],\n                        type: 'all',\n                    },\n                ]\n            },\n            {\n                title: \"label\",\n                name: 'My folder name 1-2',\n                allowers: ['jack'],\n                type: 'all',\n            },\n        ],\n    },\n    {\n        title: \"label\",\n        name: 'My folder name 2',\n        allowers: ['lucy'],\n        type: 'one',\n    },\n    {\n        title: \"input\",\n        name: 'My folder name 2',\n        allowers: ['lucy'],\n        type: 'one',\n    },\n];\n\nconst makeup = (d, level = '0') => {\n    let newTitle = ''\n    let newChildren = ''\n    const result = d.map((node, parentIdx) => {\n        const { type, allowers, name, children, title } = node\n        if (title === 'input') {\n            newTitle = <InputAction type={type} allowers={allowers} />\n        }\n        if (title === 'label') {\n            newTitle = <Folder name={name} type={type} />\n        }\n        if (children) {\n            newChildren = makeup(children, `${level}-${parentIdx}`)\n        }\n        return {\n            title: newTitle,\n            key: `${level}-${parentIdx}`,\n            name,\n            allowers,\n            type,\n            icon: <FolderFilled style={{ fontSize: \"20px\", paddingTop: \"10px\" }}/>,\n            ...children ? {\n                children: newChildren,\n            } : {}\n        }\n    })\n    return result\n}\n\nconst newestData = makeup(treeData)\n\nconst SearchTree = () => {\n    const [expandedKeys, setExpandedKeys] = useState([])\n    const [searchValue, setSearchValue] = useState('')\n    const [autoExpandParent, setAutoExpandParent] = useState(true)\n    console.log(newestData)\n    const [gData, setGData] = useState(newestData)\n    \n    const onDragEnter = info => {\n        console.log(info);\n        // setExpandedKeys(info.expandedKeys)\n        // expandedKeys 需要受控时设置\n        // this.setState({\n            //   expandedKeys: info.expandedKeys,\n            // });\n        };\n        const onDrop = info => {\n            console.log(info);\n            const dropKey = info.node.key;\n            const dragKey = info.dragNode.key;\n            const dropPos = info.node.pos.split('-');\n            const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n\n            const loop = (data, key, callback) => {\n            for (let i = 0; i < data.length; i++) {\n                if (data[i].key === key) {\n                    return callback(data[i], i, data);\n                }\n                if (data[i].children) {\n                    loop(data[i].children, key, callback);\n                }\n            }\n        };\n        const data = [...gData];\n\n        // Find dragObject\n        let dragObj;\n        loop(data, dragKey, (item, index, arr) => {\n            arr.splice(index, 1);\n            dragObj = item;\n        });\n        \n        if (!info.dropToGap) {\n            // Drop on the content\n            loop(data, dropKey, item => {\n                item.children = item.children || [];\n                // where to insert 示例添加到头部，可以是随意位置\n                item.children.unshift(dragObj);\n            });\n        } else if (\n            (info.node.props.children || []).length > 0 && // Has children\n            info.node.props.expanded && // Is expanded\n            dropPosition === 1 // On the bottom gap\n            ) {\n                loop(data, dropKey, item => {\n                    item.children = item.children || [];\n                    // where to insert 示例添加到头部，可以是随意位置\n                    item.children.unshift(dragObj);\n                    // in previous version, we use item.children.push(dragObj) to insert the\n                    // item to the tail of the children\n                });\n            } else {\n                let ar;\n                let i;\n                loop(data, dropKey, (item, index, arr) => {\n                    ar = arr;\n                    i = index;\n                });\n                if (dropPosition === -1) {\n                    ar.splice(i, 0, dragObj);\n                } else {\n                    ar.splice(i + 1, 0, dragObj);\n                }\n            }\n            setGData(data)\n    };\n\n    const [data, setData] = useState(treeData)\n\n    const [selectValue, setSelectValue] = useState(undefined)\n    // console.log(gData)\n    const dfv = [{\n        title: '0-0',\n        key: '0-0',\n        children: [{\n            title: '0-0-0',\n            key: '0-0-0',\n            children: [{\n                title: '0-0-0-0',\n                key: '0-0-0-0'\n            }]\n        }]\n    }]\n\n    // const makeupChildren = useCallback((c, index, level = '0-0') => {\n    //     let title = ''\n    //     const result = c.map((chil, chilIdx) => {\n    //         return {\n    //             title,\n    //             key: `${level}-${parentIdx}`,\n    //             default: node.default,\n    //             description: node.description,\n    //             allowers: [],\n    //             type: ''\n    //         }\n    //     })\n\n    // }, [gData])\n\n    const newDataDefault = {\n        title: \"input\",\n        description: '',\n        name: '',\n        allowers: [],\n        type: '',\n    }\n\n\n\n\n    // console.log(makeup(gData))\n    // console.log(gData)\n    return (\n        <div style={{ width: \"400px\", margin: '30px auto' }}>\n            <Select\n                labelInValue\n                // defaultValue={{ value: 'lucy' }}\n                open={true}\n                style={{ width: 400 }}\n                \n                dropdownStyle={{\n                    overflow: 'auto',\n                    height: '400px',\n                }}\n                value={{\n                    value: 'eqwe',\n                    label: 'qweqwe'\n                }}\n                dropdownRender={(menu) => {\n                    return <div\n                    style={{\n                        // marginLeft: '35px',\n                        // width: '208px',\n                        // border: '1px solid #d2c7c7',\n                        // padding: '2px'\n                    }}\n                    >\n                        <div className=\"g-search-header\">\n                            <Search\n                                placeholder=\"Search\"\n                                style={{ width: '254px' }}\n                                onChange={(ev) => {\n                                }}\n                            />\n                            <Button\n                                onClick={() => {\n                                    const newData = [newDataDefault, ...data]\n                                    setData(newData)\n                                }}\n                            >\n                                Add New Folder\n                            </Button>\n                        </div>\n                        <Tree\n                            className=\"draggable-tree\"\n                            // defaultExpandedKeys={expandedKeys}\n                            defaultExpandAll\n                            draggable\n                            showIcon\n                            blockNode\n                            onDragEnter={onDragEnter}\n                            onDrop={onDrop}\n                            treeData={gData}\n                        />\n                        {/* {menu} */}\n                    </div>\n                }}\n                onChange={(ev) => {\n                    console.log(ev)\n                }}\n            >\n                <Option value=\"lucy\">Lucy (101)</Option>\n            </Select>\n        </div>\n    );\n}\n\nexport default SearchTree"]},"metadata":{},"sourceType":"module"}